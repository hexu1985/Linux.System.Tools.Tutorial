# vfsstat 命令用法及输出说明

`vfsstat` 是一个用于监控虚拟文件系统(VFS)层统计信息的工具，通常用于Linux系统性能分析。

## 基本用法

```bash
vfsstat [interval] [count]
```

- `interval`: 采样间隔时间(秒)
- `count`: 采样次数

如果不指定参数，默认持续输出统计信息(每秒刷新一次)

## 输出说明

典型的 `vfsstat` 输出如下：

```
  TIME    READ/s  WRITE/s CREATE/s   OPEN/s  FSYNC/s
18:23:01    0.00     0.00     0.00     0.00     0.00
18:23:02    1.20    10.50     0.30     2.10     0.00
18:23:03    0.80    15.20     0.10     1.80     0.20
```

各列含义：

| 列名      | 说明                                                                 |
|-----------|----------------------------------------------------------------------|
| TIME      | 当前时间                                                             |
| READ/s    | 每秒读取操作次数                                                     |
| WRITE/s   | 每秒写入操作次数                                                     |
| CREATE/s  | 每秒创建文件/目录操作次数                                            |
| OPEN/s    | 每秒打开操作次数                                                     |
| FSYNC/s   | 每秒同步操作次数(fsync)                                              |

## 高级用法

1. **指定采样间隔和次数**：
   ```bash
   vfsstat 5 10  # 每5秒采样一次，共采样10次
   ```

2. **与其他工具结合**：
   ```bash
   vfsstat 1 | grep -v "0.00"  # 过滤掉所有值为0的行
   ```

3. **保存输出到文件**：
   ```bash
   vfsstat 1 60 > vfs_stats.log
   ```

## 注意事项

1. `vfsstat` 可能需要 root 权限才能运行
2. 不同Linux发行版可能需要安装额外的包(如bcc-tools)
3. 高频率采样可能会对系统性能产生轻微影响
4. 输出中的数值表示操作速率(操作次数/秒)，而不是数据量

## 应用场景

- 诊断文件系统性能问题
- 监控应用程序的文件I/O模式
- 识别文件系统瓶颈
- 评估系统负载变化

如需更详细的信息，可以查阅 `man vfsstat` 或相关系统的文档。
