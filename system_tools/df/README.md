# df 命令用法及输出说明

`df` 是 Linux/Unix 系统中用于显示磁盘空间使用情况的命令，全称为 **Disk Filesystem**。它可以报告文件系统的总空间、已用空间、剩余空间及挂载点等信息。

---

### **基本语法**
```bash
df [选项] [文件或目录]
```

---

### **常用选项**
| 选项 | 说明 |
|------|------|
| `-h` | 以易读格式显示（如 KB、MB、GB） |
| `-a` | 显示所有文件系统（包括虚拟文件系统如 `proc`、`sysfs`） |
| `-T` | 显示文件系统类型（如 ext4、xfs、tmpfs） |
| `-i` | 显示 inode 使用情况（而非磁盘空间） |
| `--total` | 在末尾添加一行汇总统计 |
| `-x <类型>` | 排除指定类型的文件系统（如 `-x tmpfs`） |

---

### **输出字段说明**
执行 `df -h` 的典型输出：
```
Filesystem      Size  Used Avail Use% Mounted on
/dev/sda1        20G   12G  7.2G  62% /
tmpfs           1.9G     0  1.9G   0% /dev/shm
```
- **Filesystem**: 磁盘分区或设备名称（如 `/dev/sda1`）。
- **Size**: 文件系统的总容量。
- **Used**: 已用空间。
- **Avail**: 剩余可用空间。
- **Use%**: 使用百分比。
- **Mounted on**: 挂载点（即访问该分区的目录路径）。

---

### **常见用法示例**
1. **显示所有文件系统（人类可读格式）**  
   ```bash
   df -h
   ```

2. **显示指定目录所在分区的空间**  
   ```bash
   df -h /home
   ```

3. **显示文件系统类型**  
   ```bash
   df -Th
   ```

4. **仅显示 ext4 类型的文件系统**  
   ```bash
   df -Th -t ext4
   ```

5. **排除临时文件系统（如 tmpfs）**  
   ```bash
   df -h -x tmpfs
   ```

6. **查看 inode 使用情况**（适用于文件数量多但体积小的场景）  
   ```bash
   df -ih
   ```

---

### **注意事项**
- 如果磁盘空间显示为 100%，但实际文件未占满，可能是进程占用了已删除的文件（需重启进程或使用 `lsof` 检查）。
- `df` 统计的是文件系统层面的空间，与 `du`（统计文件占用空间）的视角不同。

通过灵活组合选项，可以快速定位磁盘空间问题。
