# du命令用法及输出说明

`du`（Disk Usage）命令用于查看文件和目录的磁盘使用情况，是 Linux/Unix 系统中常用的工具。以下是其常见用法及输出说明：

---

### **基本语法**
```bash
du [选项] [文件或目录]
```

---

### **常用选项**
| 选项 | 说明 |
|------|------|
| `-h` | 以人类可读格式显示（如 KB、MB、GB）。 |
| `-s` | 仅显示总用量（不递归显示子目录）。 |
| `-a` | 显示所有文件及目录的用量（默认仅显示目录）。 |
| `--max-depth=N` | 限制递归深度到第 N 层目录。 |
| `-c` | 显示总用量并在最后一行汇总。 |
| `--exclude="PATTERN"` | 排除匹配的文件或目录。 |
| `-b/-k/-m` | 分别以 Bytes/KB/MB 为单位显示。 |

---

### **示例用法**
1. **查看当前目录的磁盘使用情况**（默认递归显示子目录）：
   ```bash
   du
   ```

2. **以人类可读格式显示**：
   ```bash
   du -h
   ```

3. **仅显示目录的总用量**（不显示子目录）：
   ```bash
   du -sh /path/to/directory
   ```

4. **显示目录内所有文件的用量**：
   ```bash
   du -ah /path/to/directory
   ```

5. **限制递归深度为 1 层**：
   ```bash
   du -h --max-depth=1 /path/to/directory
   ```

6. **排除特定文件/目录**：
   ```bash
   du -h --exclude="*.log" /path/to/directory
   ```

7. **汇总多个目录的总用量**：
   ```bash
   du -ch /dir1 /dir2
   ```

---

### **输出说明**
- **默认输出格式**：
  ```
  大小    文件/目录路径
  ```
  例如：
  ```
  4.0K    ./test.txt
  12M     ./project
  ```
  - 第一列为占用空间大小（默认以 KB 为单位，`-h` 选项会自适应单位）。
  - 第二列为文件或目录路径。

- **结合 `-s` 选项**：仅显示一行总大小，适用于快速查看目录总占用。

---

### **注意事项**
1. **权限问题**：若目录无读取权限，`du` 会报错，可配合 `sudo` 使用。
2. **符号链接**：默认不跟踪符号链接（需用 `-L` 选项）。
3. **与 `df` 的区别**：`du` 统计文件实际占用空间，而 `df` 显示文件系统的整体磁盘使用情况。

---

通过灵活组合选项，`du` 可以高效分析磁盘空间使用情况，帮助定位大文件或目录。
