# `/proc` 目录下各个统计文件说明

`/proc` 是 Linux 系统中的一个虚拟文件系统，提供了内核和进程信息的动态访问接口。以下是 `/proc` 目录下常见统计文件的详细说明：

---

### **1. 系统级统计文件**
#### **`/proc/stat`**
- **说明**：系统整体的 CPU 和任务统计信息。
- **字段**：
  - `cpu`：所有 CPU 的累计使用时间（单位：jiffies），包括用户态（`user`）、低优先级用户态（`nice`）、内核态（`system`）、空闲（`idle`）、I/O 等待（`iowait`）、硬件中断（`irq`）、软件中断（`softirq`）等。
  - `intr`：中断次数统计。
  - `ctxt`：上下文切换次数。
  - `btime`：系统启动时间（Unix 时间戳）。
  - `processes`：累计创建的进程数。
  - `procs_running`：当前运行中的进程数。
  - `procs_blocked`：等待 I/O 的阻塞进程数。

#### **`/proc/meminfo`**
- **说明**：系统内存使用情况。
- **关键字段**：
  - `MemTotal`：总物理内存。
  - `MemFree`：未使用的内存。
  - `Buffers`、`Cached`：缓存和缓冲区内存。
  - `SwapTotal`、`SwapFree`：交换分区信息。
  - `Available`：估算的可用内存（包含缓存可回收部分）。

#### **`/proc/loadavg`**
- **说明**：系统负载平均值。
- **格式**：`1分钟 5分钟 15分钟 正在运行的进程数/总进程数 最近运行的进程PID`。

#### **`/proc/uptime`**
- **说明**：系统运行时间和空闲时间（单位：秒）。
- **格式**：`运行时间 空闲时间`（多核时为累计值）。

#### **`/proc/version`**
- **说明**：内核版本和编译信息。

#### **`/proc/filesystems`**
- **说明**：系统支持的文件系统类型列表。

#### **`/proc/interrupts`**
- **说明**：每个 CPU 的中断统计信息。

#### **`/proc/softirqs`**
- **说明**：软中断统计信息。

#### **`/proc/net/dev`**
- **说明**：网络接口流量统计（接收和发送的字节、包数等）。

---

### **2. 进程级统计目录（`/proc/PID/`）**
每个进程的目录名为其 PID，例如 `/proc/1234/` 包含进程 1234 的信息。

#### **`/proc/PID/stat`**
- **说明**：进程状态和资源使用统计。
- **关键字段**：
  - 进程 ID、状态（`R`=运行，`S`=睡眠等）、父进程 PID、CPU 使用时间、优先级等。

#### **`/proc/PID/status`**
- **说明**：进程状态的易读版本。
- **关键字段**：
  - `VmRSS`：实际使用的物理内存。
  - `VmSize`：虚拟内存大小。
  - `Threads`：线程数。

#### **`/proc/PID/io`**
- **说明**：进程的 I/O 统计（如读取/写入的字节数）。

#### **`/proc/PID/fd/`**
- **说明**：符号链接到进程打开的文件描述符。

#### **`/proc/PID/maps`**
- **说明**：进程的内存映射（如堆、栈、共享库等）。

#### **`/proc/PID/cmdline`**
- **说明**：进程的启动命令（以 `\0` 分隔的参数）。

#### **`/proc/PID/environ`**
- **说明**：进程的环境变量。

---

### **3. 其他重要文件**
#### **`/proc/cpuinfo`**
- **说明**：CPU 详细信息（型号、核心数、频率等）。

#### **`/proc/diskstats`**
- **说明**：磁盘设备的 I/O 统计（读写次数、扇区数等）。

#### **`/proc/sys/`**
- **说明**：内核参数配置目录（可通过 `sysctl` 命令修改）。

#### **`/proc/modules`**
- **说明**：已加载的内核模块列表。

---

### **注意事项**
1. **动态更新**：`/proc` 下的文件是动态生成的，读取时会实时更新。
2. **权限限制**：部分文件（如进程目录）需要 root 权限才能访问。
3. **工具依赖**：许多系统监控工具（如 `top`、`ps`、`free`）的数据来源就是 `/proc`。

---

通过分析这些文件，可以深入了解系统状态、性能瓶颈或进程行为。例如：
- 检查 `meminfo` 诊断内存不足问题。
- 分析 `stat` 或 `loadavg` 监控 CPU 负载。
- 查看进程的 `io` 文件定位高 I/O 进程。
